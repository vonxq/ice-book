# 预算管理界面设计

## 页面概述
预算管理页面，提供多类型预算设置、使用情况监控、超支预警等功能，帮助用户有效控制支出。

## 界面布局

### 主界面结构
```
┌─────────────────────────────────────┐
│  预算管理                          │
│  [+ 添加预算]                      │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│  📊 本月预算概览                    │
│  总预算: ¥5,000  已用: ¥3,200     │
│  剩余: ¥1,800  使用率: 64%        │
│  ████████████████░░░░ 64%         │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│  🍽️ 餐饮预算                      │
│  ¥800 / ¥1,000  80%               │
│  ████████████████░░  80%          │
│  剩余: ¥200  剩余天数: 12天        │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│  🚗 交通预算                      │
│  ¥600 / ¥800  75%                 │
│  ████████████████░░  75%          │
│  剩余: ¥200  剩余天数: 12天        │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│  🛒 购物预算                      │
│  ¥1,200 / ¥1,500  80%             │
│  ████████████████░░  80%          │
│  剩余: ¥300  剩余天数: 12天        │
└─────────────────────────────────────┘
```

## 主要功能

### 1. 预算概览
- **位置：** 页面顶部
- **内容：** 总预算、已用金额、剩余金额、使用率
- **样式：** 卡片设计，进度条显示
- **功能：** 快速了解整体预算使用情况

### 2. 预算列表
- **布局：** 垂直列表
- **每个项目显示：**
  - 预算分类图标和名称
  - 已用金额/总预算
  - 使用百分比
  - 进度条
  - 剩余金额和天数

### 3. 添加预算
- **位置：** 页面顶部右侧
- **功能：** 创建新的预算项目
- **样式：** 浮动按钮
- **交互：** 点击跳转到添加预算页面

### 4. 预算详情
- **功能：** 查看单个预算的详细信息
- **内容：** 使用记录、趋势分析、调整历史
- **交互：** 点击预算项目查看详情

## 预算类型设计

### 1. 月预算
```
┌─────────────────────────────────────┐
│  📅 月预算                         │
│  ¥3,200 / ¥5,000  64%             │
│  ████████████████░░░░ 64%         │
│  剩余: ¥1,800  剩余天数: 12天      │
└─────────────────────────────────────┘
```

**特点：**
- **周期：** 每月重置
- **范围：** 覆盖所有支出
- **预警：** 80%时提醒，100%时警告

### 2. 分类预算
```
┌─────────────────────────────────────┐
│  🍽️ 餐饮预算                      │
│  ¥800 / ¥1,000  80%               │
│  ████████████████░░  80%          │
│  剩余: ¥200  剩余天数: 12天        │
└─────────────────────────────────────┘
```

**特点：**
- **范围：** 特定支出分类
- **灵活性：** 可设置多个分类预算
- **监控：** 实时跟踪分类支出

### 3. 项目预算
```
┌─────────────────────────────────────┐
│  🏠 装修预算                      │
│  ¥15,000 / ¥20,000  75%           │
│  ████████████████░░  75%          │
│  剩余: ¥5,000  预计完成: 2个月     │
└─────────────────────────────────────┘
```

**特点：**
- **周期：** 自定义时间范围
- **目标：** 特定项目或目标
- **跟踪：** 长期项目进度监控

## 进度条设计

### 1. 安全状态（0-70%）
```
████████████████░░░░░░░░  60%
```
- **颜色：** 绿色 (#10B981)
- **样式：** 实心进度条
- **状态：** 正常使用

### 2. 警告状态（70-90%）
```
████████████████████░░░░  80%
```
- **颜色：** 橙色 (#F59E0B)
- **样式：** 实心进度条
- **状态：** 接近预算上限

### 3. 危险状态（90-100%）
```
████████████████████████  95%
```
- **颜色：** 红色 (#EF4444)
- **样式：** 实心进度条
- **状态：** 即将超支

### 4. 超支状态（>100%）
```
██████████████████████████ 120%
```
- **颜色：** 深红色 (#DC2626)
- **样式：** 实心进度条
- **状态：** 已超支

## 交互功能

### 1. 预算操作
- **点击预算：** 查看预算详情
- **长按预算：** 显示操作菜单
- **滑动删除：** 删除预算项目
- **编辑预算：** 修改预算设置

### 2. 预警功能
- **80%预警：** 显示橙色警告
- **100%预警：** 显示红色警告
- **推送通知：** 发送预警消息
- **邮件提醒：** 发送邮件通知

### 3. 数据同步
- **实时更新：** 记账时自动更新预算
- **历史记录：** 保存预算调整历史
- **趋势分析：** 显示预算使用趋势
- **预测功能：** 预测月底使用情况

### 4. 预算调整
- **增加预算：** 临时增加预算金额
- **减少预算：** 临时减少预算金额
- **重置预算：** 重置为初始设置
- **复制预算：** 复制到下个月

## 预算详情页面

### 1. 基本信息
```
┌─────────────────────────────────────┐
│  🍽️ 餐饮预算                      │
│  预算金额: ¥1,000  已用: ¥800     │
│  剩余: ¥200  使用率: 80%          │
│  ████████████████░░  80%          │
└─────────────────────────────────────┘
```

### 2. 使用记录
```
┌─────────────────────────────────────┐
│  使用记录                          │
├─────────────────────────────────────┤
│  12月19日  午餐  -¥45              │
│  12月18日  晚餐  -¥68              │
│  12月17日  早餐  -¥25              │
│  12月16日  午餐  -¥52              │
└─────────────────────────────────────┘
```

### 3. 趋势分析
```
┌─────────────────────────────────────┐
│  使用趋势                          │
│  ┌─────────────────────────────────┐ │
│  │                                 │ │
│  │        趋势图区域               │ │
│  │                                 │ │
│  └─────────────────────────────────┘ │
│  日均支出: ¥40  预计月底: ¥1,200   │
└─────────────────────────────────────┘
```

## 空状态设计

### 1. 无预算状态
```
┌─────────────────────────────────────┐
│  💰                               │
│  暂无预算设置                      │
│  添加预算来更好地控制支出          │
│  [+ 添加预算]                      │
└─────────────────────────────────────┘
```

### 2. 无使用记录
```
┌─────────────────────────────────────┐
│  📊                               │
│  本月暂无支出记录                  │
│  开始记账后可以查看预算使用情况    │
└─────────────────────────────────────┘
```

## 筛选功能

### 1. 时间筛选
- **本月：** 显示本月预算
- **上月：** 显示上月预算
- **自定义：** 选择自定义时间范围

### 2. 状态筛选
- **全部：** 显示所有预算
- **正常：** 显示正常使用预算
- **预警：** 显示预警状态预算
- **超支：** 显示超支预算

### 3. 类型筛选
- **月预算：** 显示月度预算
- **分类预算：** 显示分类预算
- **项目预算：** 显示项目预算

## 设计规范

### 1. 颜色方案
- **安全：** 绿色 (#10B981)
- **警告：** 橙色 (#F59E0B)
- **危险：** 红色 (#EF4444)
- **超支：** 深红色 (#DC2626)
- **背景：** 浅色/深色模式适配

### 2. 字体规范
- **标题：** 18px，粗体
- **金额：** 16px，粗体
- **百分比：** 14px，常规
- **说明：** 12px，浅色

### 3. 间距规范
- **卡片间距：** 16px
- **内容间距：** 12px
- **元素间距：** 8px

### 4. 圆角规范
- **卡片：** 12px
- **按钮：** 8px
- **进度条：** 4px

## 性能优化

### 1. 数据计算
- **实时计算：** 实时计算预算使用情况
- **缓存结果：** 缓存计算结果
- **增量更新：** 增量更新统计数据

### 2. 内存管理
- **列表优化：** 使用ListView.builder
- **图片缓存：** 缓存分类图标
- **数据清理：** 定期清理过期数据

### 3. 用户体验
- **加载状态：** 显示加载指示器
- **错误处理：** 优雅处理错误状态
- **离线支持：** 支持离线查看预算 